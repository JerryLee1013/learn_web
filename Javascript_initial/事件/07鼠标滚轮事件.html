<!--
 * @Brief: 
 * @LastEditors: Jerry Lee
 * @LastEditTime: 2020-08-01 21:45:08
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            body {
                height: 2000px;
            }
            #box1 {
                width: 100px;
                height: 100px;
                background-color: #bfa;
            }
        </style>
    </head>
    <body>
        <div id="box1"></div>
    </body>
    <script>
        var box1 = document.getElementById("box1");
        box1.onmousewheel = function fun(event) {
            event = event || window.event;
            // alert(event.wheelDelta);

            // 火狐使用
            // alert(event.detail);

            if (event.wheelDelta > 0 || event.detail < 0) {
                // alert("向上滚");
                // box1变短
                this.style.height = this.clientHeight - 10 + "px";
            } else {
                // alert("向下滚");
                // box1边长
                this.style.height = this.clientHeight + 10 + "px";
            }

            //使用addEventlistener()方法绑定响应函数，取消默认行为时，不能使用return false；需要使用event来取消默认行为
            event.preventDefault && event.preventDefault(); //不适用于IE8及以下浏览器

            // 滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动，这是浏览器的默认行为，如果不希望发生，可以取消
            return false;
        };

        // 火狐滚轮事件
        bind(box1, "DOMMouseScroll", box1.onmousewheel);

        function bind(obj, eventStr, callback) {
            if (obj.addEventListener) {
                // 大部分浏览器兼容的方式
                obj.addEventListener(eventStr, callback, false);
            } else {
                // 兼容IE8及以下的方式
                // callback.call(obj)该变this的指向为obj
                obj.attachEvent("on" + eventStr, function () {
                    // 在匿名函数中调用callback();
                    callback.call(obj);
                });
            }
        }
    </script>
</html>
