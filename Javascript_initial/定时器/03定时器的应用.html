<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				
			}
			#box1{
				width: 100px;
				height: 100px;
				background-color: red;
				position: absolute;
				left: 0;
			}
			#box2{
				width: 100px;
				height: 100px;
				background-color: pink;
				position: absolute;
				left: 0;
				top: 300px;
			}
			
		</style>
	</head>
	<body>
		<button type="button" id="btn1">点击,向右移动</button><br>
		<button type="button" id="btn2">点击,向左移动</button><br>
		<div id="box1">
			
		</div>
		
		<div id="box3">
			
		</div>
	</body>
	<script type="text/javascript">
		var box1 = document.getElementById("box1");
		var box2 = document.getElementById("box2");
		var btn1 = document.getElementById("btn1");
		var btn2 = document.getElementById("btn2");
		
		var timer;
		btn1.onclick = function(){
			move(box1,700,10);
		};
		
		btn2.onclick = function(){
			move(box1,0,10);
		};
		
		function move(obj,target,speed){
			clearInterval(timer);
			var currentValue = parseInt(getStyle(obj,"left"));
			if(currentValue>=target){
				speed = -speed;
			}
			timer = setInterval(function(){
				var oldValue = parseInt(getStyle(obj,"left"));
				var newValue = oldValue+speed;
				if((speed>0 && newValue>target) || (speed<0 && newValue<target)){
					newValue=target;
					clearInterval(timer);
				}
				obj.style.left = newValue+"px";
				
			},30);
		}
	
		function getStyle(obj, name) {
		    // 兼容代码方法1
		    if (window.getComputedStyle) {
		        return getComputedStyle(obj, null)[name];
		    } else {
		        return obj.currentStyle[name];
		    }
		}
	</script>
</html>
