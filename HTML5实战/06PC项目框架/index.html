<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="css/index.css" />
        <link rel="stylesheet" href="font/iconfont.css" />
        <!-- 设置分辨率 -->
    </head>
    <body>
        <!-- 整体包裹区 -->
        <section id="wrap">
            <!-- 头部，流体布局 -->
            <header id="head">
                <!-- 固定布局 -->
                <div class="headMain">
                    <!-- logo -->
                    <h1 class="logo">
                        <a href="javascript:;">
                            <img
                                src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1598082995795&di=794266c31979e1000ff4f38d820befad&imgtype=0&src=http%3A%2F%2Fimg.ewebweb.com%2Fuploads%2F20190625%2F16%2F1561450847-VOdWtNnhRB.jpg"
                                alt=""
                            />
                        </a>
                    </h1>
                    <!-- 导航 -->
                    <nav class="nav">
                        <ul class="list">
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        <img src="img/homeBlack.jpg" alt="" />
                                    </div>
                                    <div class="down">
                                        <img src="img/homeWhite.jpg" alt="" />
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        Course
                                    </div>
                                    <div class="down">
                                        Course
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        Works
                                    </div>
                                    <div class="down">
                                        Works
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        About
                                    </div>
                                    <div class="down">
                                        About
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        Team
                                    </div>
                                    <div class="down">
                                        Team
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <!-- 下指向箭头 -->
                    <div class="arrow">
                        <div class="iconarrow"></div>
                    </div>
                </div>
            </header>
            <!-- 内容区 -->
            <section id="content">
                <ul class="list">
                    <li class="home">
                        <section>
                            <ul class="home1 commomTitle">
                                <li class="active">
                                    <div class="item">
                                        one layer
                                    </div>
                                </li>
                                <li class="">
                                    <div class="item">
                                        two layer
                                    </div>
                                </li>
                                <li class="">
                                    <div class="item">
                                        three layer
                                    </div>
                                </li>
                                <li class="">
                                    <div class="item">
                                        four layer
                                    </div>
                                </li>
                            </ul>
                            <ul class="home2">
                                <li class="active"></li>
                                <li></li>
                                <li></li>
                                <li></li>
                            </ul>
                        </section>
                    </li>
                    <li class="course">
                        <section>
                            <header class="course1 commomTitle">
                                <span>EINBLICK</span><br />
                                <span>DEVELOPERS</span><br />
                                <span>BEST</span><br />
                            </header>
                            <div class="course2 commonText">
                                <p>
                                    Nothing succeeds lacks confidence. When you
                                    are truly and justifiably confident, it
                                    radiates from you like sunlight, and
                                    attracts success to you like a magnet. It's
                                    important to believe in yourself. Believe
                                    that you can do it under any circumstances,
                                    because if you believe you can, then you
                                    really will. <br />
                                    The belief keeps you searching for answers,
                                    which means that pretty soon you will get
                                    them. Confidence is more than an attitude.
                                    It comes from knowing exactly where you are
                                    going and exactly how you are going to get
                                    there. It comes from acting with integrity
                                    and confidence.
                                </p>
                            </div>
                            <div class="course3">
                                <span class="line"></span>
                                <span class="line"></span>
                                <span class="line"></span>
                                <span class="line"></span>
                                <span class="line"></span>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                                <div class="item">
                                    <div class="backface"></div>
                                    <div class="face">我有一只小毛驴</div>
                                </div>
                            </div>
                            <div class="plane1"></div>
                            <div class="plane2"></div>
                            <div class="plane3"></div>
                        </section>
                    </li>
                    <li class="works">
                        <section>
                            <header class="works1 commomTitle">
                                <span>EINBLICK</span><br />
                                <span>DEVELOPERS</span><br />
                                <span>BEST</span><br />
                            </header>
                            <div class="works2">
                                <div class="item">
                                    <img src="img/01.jpg" alt="" />
                                    <div class="mask">
                                        <span>我有一只小毛驴</span>
                                        <div class="icon">
                                            <div class="iconwrap">
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <img src="img/02.jpg" alt="" />
                                    <div class="mask">
                                        <span>我从来都不骑</span>
                                        <div class="icon">
                                            <div class="iconwrap">
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <img src="img/03.jpg" alt="" />
                                    <div class="mask">
                                        <span>有一天我骑着它去赶集</span>
                                        <div class="icon">
                                            <div class="iconwrap">
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <img src="img/06.jpg" alt="" />
                                    <div class="mask">
                                        <span>我右手拿着小皮鞭</span>
                                        <div class="icon">
                                            <div class="iconwrap">
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                                <span
                                                    class="iconfont icon-zoomout"
                                                ></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="works3"></div>
                            <div class="pencil1"></div>
                            <div class="pencil2"></div>
                            <div class="pencil3"></div>
                        </section>
                    </li>
                    <li class="about">
                        <section>
                            <header class="about1 commomTitle">
                                <span>EINBLICK</span><br />
                                <span>DEVELOPERS</span><br />
                                <span>BEST</span><br />
                            </header>
                            <div class="about2 commonText">
                                <p>
                                    Nothing succeeds lacks confidence. When you
                                    are truly and justifiably confident, it
                                    radiates from you like sunlight, and
                                    attracts success to you like a magnet. It's
                                    important to believe in yourself. Believe
                                    that you can do it under any circumstances,
                                    because if you believe you can, then you
                                    really will.
                                </p>
                            </div>
                            <div class="about3"></div>
                            <div class="about4">
                                <div class="item">
                                    <span></span>
                                    <ul data-src="img/about1.jpg"></ul>
                                </div>
                                <div class="item">
                                    <span></span>
                                    <ul data-src="img/about3.jpg"></ul>
                                </div>
                            </div>
                        </section>
                    </li>
                    <li class="team">
                        <section>
                            <header class="team1 commomTitle">
                                <span>EINBLICK</span><br />
                                <span>DEVELOPERS</span><br />
                                <span>BEST</span><br />
                            </header>
                            <div class="team2 commonText">
                                <p>
                                    Nothing succeeds lacks confidence. When you
                                    are truly and justifiably confident, it
                                    radiates from you like sunlight, and
                                    attracts success to you like a magnet. It's
                                    important to believe in yourself. Believe
                                    that you can do it under any circumstances,
                                    because if you believe you can, then you
                                    really will.
                                </p>
                            </div>
                            <div class="team3">
                                <ul>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                </ul>
                            </div>
                        </section>
                    </li>
                </ul>
                <ul class="dot">
                    <li class="active"></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
            </section>
        </section>
    </body>
    <script>
        window.onload = function () {
            //获取dom元素
            var arrowEle = document.querySelector("#head .headMain .arrow");
            var liNodes = document.querySelectorAll(
                "#head .headMain .nav .list > li"
            );
            var upNodes = document.querySelectorAll(
                "#head .headMain .nav .list > li .up"
            );
            var firstliNode = liNodes[0];
            var firstupNode = firstliNode.querySelector(".up");
            var head = document.querySelector("#head");
            var content = document.querySelector("#content");
            var cLiNodes = document.querySelectorAll("#content .list > li");
            var ulNode = document.querySelector("#content>.list");
            var now = 0; /* 同步当前索引 */
            var timer = 0;
            var timer3D = 0;
            var oldIndex = 0;
            var autoIndex = 0;
            var home2LiNodes = document.querySelectorAll(
                "#content > .list .home .home2 li"
            );
            var home1LiNodes = document.querySelectorAll(
                "#content > .list .home .home1 li"
            );
            var home1 = document.querySelector("#content > .list .home .home1");
            var aboutULs = document.querySelectorAll(
                "#content > .list .about .about4 .item ul"
            );
            var imgNodes = document.querySelectorAll(
                "#content > .list .about .about4 .item ul img"
            );
            var dotLiNodes = document.querySelectorAll("#content > .dot > li ");
            var teamSection = document.querySelector(
                "#content > .list .team > section"
            );
            var team3 = document.querySelector("#content > .list .team .team3");
            var team3UL = document.querySelector(
                "#content > .list .team .team3 ul"
            );
            var team3LiNodes = document.querySelectorAll(
                "#content > .list .team .team3 li"
            );
            var timerDraw = 0;
            var timerCircle = 0;
            var preIndex = 0;
            /* 出入场 */
            var anArr = [
                {
                    inAn: function () {
                        var home1 = document.querySelector(
                            "#content > .list .home .home1"
                        );
                        var home2 = document.querySelector(
                            "#content > .list .home .home2"
                        );
                        home1.style.transform = "translateY(0)";
                        home2.style.transform = "translateY(0)";
                        home1.style.opacity = 1;
                        home2.style.opacity = 1;
                    },
                    outAn: function () {
                        var home1 = document.querySelector(
                            "#content > .list .home .home1"
                        );
                        var home2 = document.querySelector(
                            "#content > .list .home .home2"
                        );
                        home1.style.transform = "translateY(-400px)";
                        home2.style.transform = "translateY(200px)";
                        home1.style.opacity = 0;
                        home2.style.opacity = 0;
                    },
                },
                {
                    inAn: function () {
                        var plane1 = document.querySelector(
                            "#content > .list .course .plane1"
                        );
                        var plane2 = document.querySelector(
                            "#content > .list .course .plane2"
                        );
                        var plane3 = document.querySelector(
                            "#content > .list .course .plane3"
                        );
                        plane1.style.transform = "translate(0,0)";
                        plane2.style.transform = "translate(0,0)";
                        plane3.style.transform = "translate(0,0)";
                    },
                    outAn: function () {
                        var plane1 = document.querySelector(
                            "#content > .list .course .plane1"
                        );
                        var plane2 = document.querySelector(
                            "#content > .list .course .plane2"
                        );
                        var plane3 = document.querySelector(
                            "#content > .list .course .plane3"
                        );
                        plane1.style.transform = "translate(-200px,-200px)";
                        plane2.style.transform = "translate(-200px,200px)";
                        plane3.style.transform = "translate(200px,-200px)";
                    },
                },
                {
                    inAn: function () {
                        var pencil1 = document.querySelector(
                            "#content > .list .works .pencil1"
                        );
                        var pencil2 = document.querySelector(
                            "#content > .list .works .pencil2"
                        );
                        var pencil3 = document.querySelector(
                            "#content > .list .works .pencil3"
                        );

                        pencil1.style.transform = "translateY(0)";
                        pencil2.style.transform = "translateY(0)";
                        pencil3.style.transform = "translateY(0)";
                    },
                    outAn: function () {
                        var pencil1 = document.querySelector(
                            "#content > .list .works .pencil1"
                        );
                        var pencil2 = document.querySelector(
                            "#content > .list .works .pencil2"
                        );
                        var pencil3 = document.querySelector(
                            "#content > .list .works .pencil3"
                        );

                        pencil1.style.transform = "translateY(-200px)";
                        pencil2.style.transform = "translateY(100px)";
                        pencil3.style.transform = "translateY(200px)";
                    },
                },
                {
                    inAn: function () {
                        var Rect1 = document.querySelector(
                            "#content > .list .about .about4 .item:nth-of-type(1)"
                        );
                        var Rect2 = document.querySelector(
                            "#content > .list .about .about4 .item:nth-of-type(2)"
                        );

                        Rect1.style.transform = "rotate(0)";
                        Rect2.style.transform = "rotate(0)";
                    },
                    outAn: function () {
                        var Rect1 = document.querySelector(
                            "#content > .list .about .about4 .item:nth-of-type(1)"
                        );
                        var Rect2 = document.querySelector(
                            "#content > .list .about .about4 .item:nth-of-type(2)"
                        );

                        Rect1.style.transform = "rotate(30deg)";
                        Rect2.style.transform = "rotate(-30deg)";
                    },
                },
                {
                    inAn: function () {
                        var team1 = document.querySelector(
                            "#content > .list .team .team1"
                        );
                        var team2 = document.querySelector(
                            "#content > .list .team .team2"
                        );
                        team1.style.transform = "translateX(0)";
                        team2.style.transform = "translateX(0)";
                    },
                    outAn: function () {
                        var team1 = document.querySelector(
                            "#content > .list .team .team1"
                        );
                        var team2 = document.querySelector(
                            "#content > .list .team .team2"
                        );
                        team1.style.transform = "translateX(-300px)";
                        team2.style.transform = "translateX(300px)";
                    },
                },
            ];
            /* 循环出场状态 */
            for (let i = 0; i < anArr.length; i++) {
                anArr[i]["outAn"]();
            }
            setTimeout(function () {
                anArr[0]["inAn"]();
            }, 1000);

            /* 内容区交互 */
            /* 第五屏气泡效果 */
            biubiu();
            function biubiu() {
                var oc = null;
                for (let i = 0; i < team3LiNodes.length; i++) {
                    team3LiNodes[i].onmouseenter = function () {
                        for (let j = 0; j < team3LiNodes.length; j++) {
                            team3LiNodes[j].style.opacity = 0.5;
                        }
                        this.style.opacity = 1;
                        /* 添加canvas元素 */
                        addCanvas();
                        oc.style.left = this.offsetLeft + "px";
                        oc.style.top = this.offsetTop + "px";
                    };
                }
                function qiPao() {
                    if (oc.getContext) {
                        var ctx = oc.getContext("2d");
                        var arr = [];

                        //将数组中的圆绘制到画布上
                        timerDraw = setInterval(function () {
                            ctx.clearRect(0, 0, oc.width, oc.height);

                            for (var i = 0; i < arr.length; i++) {
                                arr[i].deg += 8;
                                arr[i].x =
                                    arr[i].startX +
                                    Math.sin((arr[i].deg * Math.PI) / 180) *
                                        arr[i].step *
                                        2;
                                arr[i].y =
                                    arr[i].startY -
                                    ((arr[i].deg * Math.PI) / 180) *
                                        arr[i].step;
                                if (arr[i].y <= 50) {
                                    arr.splice(i, 1);
                                }
                            }
                            console.log(arr);
                            for (var i = 0; i < arr.length; i++) {
                                ctx.save();
                                ctx.fillStyle =
                                    "rgba(" +
                                    arr[i].red +
                                    "," +
                                    arr[i].green +
                                    "," +
                                    arr[i].blue +
                                    "," +
                                    arr[i].alpha +
                                    ")";
                                ctx.beginPath();
                                ctx.arc(
                                    arr[i].x,
                                    arr[i].y,
                                    arr[i].r,
                                    0,
                                    (360 * Math.PI) / 180
                                );
                                ctx.fill();
                                ctx.restore();
                            }
                        }, 1000 / 60);

                        //生成随机圆
                        timerCircle = setInterval(function () {
                            //圆
                            var r = Math.round(Math.random() * 8 + 2);
                            var x = Math.random() * oc.width;
                            var y = oc.height - r;

                            //圆的填充色
                            var red = Math.round(Math.random() * 255);
                            var green = Math.round(Math.random() * 255);
                            var blue = Math.round(Math.random() * 255);
                            var alpha = 1;
                            //圆运动轨迹参数
                            var deg = 0;
                            var step = Math.round(Math.random() * 20 + 10);
                            var startX = x;
                            var startY = y;
                            arr.push({
                                x: x,
                                y: y,
                                r: r,
                                red: red,
                                green: green,
                                blue: blue,
                                alpha: alpha,
                                deg: deg,
                                step: step,
                                startX: startX,
                                startY: startY,
                            });
                        }, 50);
                    }
                }

                function addCanvas() {
                    if (!oc) {
                        oc = document.createElement("canvas");
                        oc.width = team3LiNodes[0].offsetWidth;
                        oc.height = team3LiNodes[0].offsetHeight;
                        oc.onmouseleave = function () {
                            for (let i = 0; i < team3LiNodes.length; i++) {
                                team3LiNodes[i].style.opacity = 1;
                            }
                            removeCanvas();
                        };
                        team3.appendChild(oc);
                        qiPao();
                    }
                }

                function removeCanvas() {
                    oc.remove();
                    oc = null;
                    clearInterval(timerDraw);
                    clearInterval(timerCircle);
                }
            }

            /* 第四屏图片炸裂效果 */
            picBoom();
            function picBoom() {
                for (let i = 0; i < aboutULs.length; i++) {
                    change(aboutULs[i]);
                }
                function change(node) {
                    var src = node.dataset.src;
                    var w = node.offsetWidth / 2;
                    var h = node.offsetHeight / 2;
                    var newarrLeft = [0, -2, 1, -1];
                    var newarrTop = [1, 0, -1, -2];
                    var oldarrLeft = [0, -1, 0, -1];
                    var oldarrTop = [0, 0, -1, -1];
                    for (let i = 0; i < 4; i++) {
                        var liNode = document.createElement("li");
                        var imgNode = document.createElement("img");
                        imgNode.src = src;
                        // left[0,-1,0,-1]
                        // top[0,0,-1,-1]
                        imgNode.style.left = -(i % 2) * w + "px";
                        imgNode.style.top = -Math.floor(i / 2) * h + "px";
                        liNode.style.width = w + "px";
                        liNode.style.height = h + "px";
                        liNode.appendChild(imgNode);
                        node.appendChild(liNode);
                    }
                    var imgNodes = node.querySelectorAll("img");
                    node.onmouseenter = function () {
                        imgNodes[0].style.top = h + "px";
                        imgNodes[1].style.left = -2 * w + "px";
                        imgNodes[2].style.left = w + "px";
                        imgNodes[3].style.top = -2 * h + "px";
                    };
                    node.onmouseleave = function () {
                        imgNodes[0].style.top = 0 + "px";
                        imgNodes[1].style.left = -w + "px";
                        imgNodes[2].style.left = 0 + "px";
                        imgNodes[3].style.top = -h + "px";
                    };
                }
            }
            /* 第一屏3D效果 */
            home3D();
            function home3D() {
                /* home1鼠标进入、离开事件 */
                home1.onmouseenter = function () {
                    clearInterval(timer3D);
                };
                home1.onmouseleave = function () {
                    autoLunbo();
                };
                /* 自动轮播方法调用 */
                autoLunbo();
                /* 自动轮播方法 */
                function autoLunbo() {
                    clearInterval(timer3D);
                    timer3D = setInterval(function () {
                        autoIndex++;
                        if (autoIndex == home1LiNodes.length) {
                            autoIndex = 0;
                        }
                        autolunboFun(autoIndex);
                        oldIndex = autoIndex;
                    }, 2000);
                }
                /* 点击轮播事件 */
                for (let i = 0; i < home2LiNodes.length; i++) {
                    home2LiNodes[i].onclick = function () {
                        clearInterval(timer3D);
                        lunboClick(i);
                        autoIndex = i;
                        autoLunbo();
                    };
                }
                /* 自动轮播调用函数 */
                function autolunboFun(i) {
                    removeClass(home2LiNodes, "active");
                    home2LiNodes[i].classList.add("active");
                    if (i != oldIndex) {
                        home1LiNodes[0].classList.remove("active");

                        removeClass(home1LiNodes, "rightShow");
                        removeClass(home1LiNodes, "rightHide");
                        removeClass(home1LiNodes, "leftShow");
                        removeClass(home1LiNodes, "leftHide");

                        /* 从左往右播 */

                        home1LiNodes[oldIndex].classList.add("leftHide");
                        home1LiNodes[i].classList.add("rightShow");
                        oldIndex = i;
                    }
                }
                /* 点击轮播调用函数 */
                function lunboClick(i) {
                    removeClass(home2LiNodes, "active");
                    home2LiNodes[i].classList.add("active");
                    if (i != oldIndex) {
                        home1LiNodes[0].classList.remove("active");

                        removeClass(home1LiNodes, "rightShow");
                        removeClass(home1LiNodes, "rightHide");
                        removeClass(home1LiNodes, "leftShow");
                        removeClass(home1LiNodes, "leftHide");

                        /* 从左往右点 */
                        if (i > oldIndex) {
                            home1LiNodes[oldIndex].classList.add("leftHide");
                            home1LiNodes[i].classList.add("rightShow");
                            oldIndex = i;
                        }

                        /* 从右往左点 */
                        if (i < oldIndex) {
                            home1LiNodes[oldIndex].classList.add("rightHide");
                            home1LiNodes[i].classList.add("leftShow");
                            oldIndex = i;
                        }
                    }
                }
            }

            /* 批量清空类方法 */
            function removeClass(nodes, className) {
                for (let j = 0; j < nodes.length; j++) {
                    nodes[j].classList.remove(className);
                }
            }

            //内容区滚轮事件
            if (content.addEventListener) {
                content.addEventListener("DOMMouseScroll", function (ev) {
                    ev = ev || event;
                    clearTimeout(timer);
                    timer = setTimeout(function () {
                        fn(ev);
                    }, 50);
                });
            }
            content.onmousewheel = function (ev) {
                ev = ev || event;
                clearTimeout(timer);
                timer = setTimeout(function () {
                    fn(ev);
                }, 100);
            };
            function fn(ev) {
                ev = ev || event;
                var dir = "";
                if (ev.wheelDelta) {
                    dir = ev.wheelDelta > 0 ? "up" : "down";
                } else if (ev.detail) {
                    dir = ev.wheelDelta < 0 ? "up" : "down";
                }
                preIndex = now;
                switch (dir) {
                    case "up":
                        if (now > 0) {
                            now--;
                            move(now);
                        }
                        break;
                    case "down":
                        if (now < cLiNodes.length) {
                            now++;
                            move(now);
                        }
                        break;
                }
            }

            /* 视口分辨率改变时，实时的更新各个界面的大小 */
            window.onresize = function () {
                contentBind();
                ulNode.style.top =
                    -(
                        document.documentElement.clientHeight -
                        head.offsetHeight
                    ) *
                        now +
                    "px";

                arrowEle.style.left =
                    liNodes[now].offsetLeft +
                    liNodes[now].offsetWidth / 2 -
                    arrowEle.offsetWidth / 2 +
                    "px";
            };
            contentBind();
            function contentBind() {
                content.style.height =
                    document.documentElement.clientHeight -
                    head.offsetHeight +
                    "px";
                for (let i = 0; i < cLiNodes.length; i++) {
                    cLiNodes[i].style.height =
                        document.documentElement.clientHeight -
                        head.offsetHeight +
                        "px";
                }
            }

            /* 头部交互 */
            headBind();
            function headBind() {
                arrowEle.style.left =
                    firstliNode.offsetLeft +
                    firstliNode.offsetWidth / 2 -
                    arrowEle.offsetWidth / 2 +
                    "px";
                firstupNode.style.width = "100%";
                firstupNode.style.height = "100%";

                //转绑
                for (let i = 0; i < liNodes.length; i++) {
                    liNodes[i].index = i;
                    liNodes[i].onclick = function () {
                        preIndex = now;
                        move(this.index);
                        now = this.index;
                    };
                }
            }
            /* dot点击数事件 */
            for (let i = 0; i < dotLiNodes.length; i++) {
                dotLiNodes[i].onclick = function () {
                    preIndex = now;
                    move(i);
                    now = i;
                };
            }
            /* 动画核心函数 */
            function move(index) {
                for (let j = 0; j < upNodes.length; j++) {
                    upNodes[j].style.width = "";
                }
                upNodes[index].style.width = "100%";
                upNodes[index].style.height = "100%";
                arrowEle.style.left =
                    liNodes[index].offsetLeft +
                    liNodes[index].offsetWidth / 2 -
                    arrowEle.offsetWidth / 2 +
                    "px";
                ulNode.style.top =
                    -(
                        document.documentElement.clientHeight -
                        head.offsetHeight
                    ) *
                        index +
                    "px";
                removeClass(dotLiNodes, "active");
                dotLiNodes[index].classList.add("active");

                /* 出入场 */
                if (
                    anArr[index] &&
                    typeof anArr[index]["inAn"] === "function"
                ) {
                    anArr[index]["inAn"]();
                }
                if (
                    anArr[preIndex] &&
                    typeof anArr[preIndex]["inAn"] === "function"
                ) {
                    anArr[preIndex]["outAn"]();
                }
            }
        };
    </script>
</html>
