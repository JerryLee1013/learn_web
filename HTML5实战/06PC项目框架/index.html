<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="css/index.css" />
        <link rel="stylesheet" href="" />
        <!-- 设置分辨率 -->
    </head>
    <body>
        <!-- 整体包裹区 -->
        <section id="wrap">
            <!-- 头部，流体布局 -->
            <header id="head">
                <!-- 固定布局 -->
                <div class="headMain">
                    <!-- logo -->
                    <h1 class="logo">
                        <a href="javascript:;">
                            <img
                                src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1598082995795&di=794266c31979e1000ff4f38d820befad&imgtype=0&src=http%3A%2F%2Fimg.ewebweb.com%2Fuploads%2F20190625%2F16%2F1561450847-VOdWtNnhRB.jpg"
                                alt=""
                            />
                        </a>
                    </h1>
                    <!-- 导航 -->
                    <nav class="nav">
                        <ul class="list">
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        <img src="img/homeBlack.jpg" alt="" />
                                    </div>
                                    <div class="down">
                                        <img src="img/homeWhite.jpg" alt="" />
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        Course
                                    </div>
                                    <div class="down">
                                        Course
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        Works
                                    </div>
                                    <div class="down">
                                        Works
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        About
                                    </div>
                                    <div class="down">
                                        About
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:;">
                                    <div class="up">
                                        Team
                                    </div>
                                    <div class="down">
                                        Team
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <!-- 下指向箭头 -->
                    <div class="arrow">
                        <div class="iconarrow"></div>
                    </div>
                </div>
            </header>
            <section id="content">
                <ul class="list">
                    <li class="home">
                        <div>home</div>
                    </li>
                    <li class="course">
                        <div>course</div>
                    </li>
                    <li class="works">
                        <div>works</div>
                    </li>
                    <li class="about">
                        <div>about</div>
                    </li>
                    <li class="team">
                        <div>team</div>
                    </li>
                </ul>
            </section>
        </section>
    </body>
    <script>
        window.onload = function () {
            //获取dom元素
            var arrowEle = document.querySelector("#head .headMain .arrow");
            var liNodes = document.querySelectorAll(
                "#head .headMain .nav .list > li"
            );
            var upNodes = document.querySelectorAll(
                "#head .headMain .nav .list > li .up"
            );
            var firstliNode = liNodes[0];
            var firstupNode = firstliNode.querySelector(".up");
            var head = document.querySelector("#head");
            var content = document.querySelector("#content");
            var cLiNodes = document.querySelectorAll("#content .list > li");
            var ulNode = document.querySelector("#content>.list");
            var now = 0;

            /* 内容区交互 */
            /* 视口分辨率改变时，实时的更新各个界面的大小 */
            window.onresize = function () {
                contentBind();
                ulNode.style.top =
                    -(
                        document.documentElement.clientHeight -
                        head.offsetHeight
                    ) *
                        now +
                    "px";

                arrowEle.style.left =
                    liNodes[now].offsetLeft +
                    liNodes[now].offsetWidth / 2 -
                    arrowEle.offsetWidth / 2 +
                    "px";
            };
            contentBind();
            function contentBind() {
                content.style.height =
                    document.documentElement.clientHeight -
                    head.offsetHeight +
                    "px";
                for (let i = 0; i < cLiNodes.length; i++) {
                    cLiNodes[i].style.height =
                        document.documentElement.clientHeight -
                        head.offsetHeight +
                        "px";
                }
            }

            /* 头部交互 */
            headBind();
            function headBind() {
                arrowEle.style.left =
                    firstliNode.offsetLeft +
                    firstliNode.offsetWidth / 2 -
                    arrowEle.offsetWidth / 2 +
                    "px";
                firstupNode.style.width = "100%";
                firstupNode.style.height = "100%";

                //转绑
                for (let i = 0; i < liNodes.length; i++) {
                    liNodes[i].index = i;
                    liNodes[i].onclick = function () {
                        move(this.index);
                        now = this.index;
                    };
                }
                function move(index) {
                    for (let j = 0; j < upNodes.length; j++) {
                        upNodes[j].style.width = "";
                    }
                    upNodes[index].style.width = "100%";
                    upNodes[index].style.height = "100%";
                    arrowEle.style.left =
                        liNodes[index].offsetLeft +
                        liNodes[index].offsetWidth / 2 -
                        arrowEle.offsetWidth / 2 +
                        "px";
                    ulNode.style.top =
                        -(
                            document.documentElement.clientHeight -
                            head.offsetHeight
                        ) *
                            index +
                        "px";
                }
            }
        };
    </script>
</html>
